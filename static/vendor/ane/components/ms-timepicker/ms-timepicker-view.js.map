{"version":3,"sources":["/vendor/ane/components/ms-timepicker/ms-timepicker-view.ts"],"names":[],"mappings":";;;AAAA,gCAAkC;AAClC,+BAAiC;AAEjC,IAAM,aAAa,GAAG,EAAE,CAAC;AAEzB,MAAM,CAAC,SAAS,CAAC,oBAAoB,EAAE;IACnC,QAAQ,EAAE,QAAQ,CAAC,2BAA2B,CAAC;IAC/C,QAAQ,EAAE;QACN,KAAK,EAAE,EAAE;QACT,WAAW,EAAE,CAAC;QACd,aAAa,EAAE,CAAC;QAChB,aAAa,EAAE,CAAC;QAChB,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC,GAAG,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAApB,CAAoB,CAAC;QAC5D,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC,GAAG,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAApB,CAAoB,CAAC;QAC9D,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC,GAAG,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAApB,CAAoB,CAAC;QAC9D,QAAQ,EAAE,MAAM,CAAC,IAAI;QACrB,MAAM,YAAC,EAAE,EAAE,IAAI;YACX,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,4BAA4B,CAAC,CAAC,IAAI,GAAG,UAAU,CAAC,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,CAAC;YAC1G,EAAE,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YAC1B,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YAC5B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YAC5B,CAAC;YACD,IAAI,CAAC,QAAQ,CAAC;gBACV,MAAM,EAAE;oBACJ,IAAI,EAAE,IAAI,CAAC,WAAW;oBACtB,MAAM,EAAE,IAAI,CAAC,aAAa;oBAC1B,MAAM,EAAE,IAAI,CAAC,aAAa;iBAC7B;gBACD,IAAI,EAAE,yBAAyB;aAClC,CAAC,CAAC;QACP,CAAC;QACD,MAAM;YAAN,iBAaC;YAZG,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,WAAC;gBAClB,IAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC/B,KAAI,CAAC,WAAW,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;gBAC5B,KAAI,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC;gBAChC,KAAI,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC;gBAEhC,IAAM,cAAc,GAAG,KAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,4BAA4B,CAAC,CAAC;gBAC1F,cAAc,CAAC,cAAc,CAAC,CAAC,SAAS,GAAG,KAAI,CAAC,WAAW,GAAG,aAAa,CAAC;gBAC5E,cAAc,CAAC,gBAAgB,CAAC,CAAC,SAAS,GAAG,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;gBAChF,cAAc,CAAC,gBAAgB,CAAC,CAAC,SAAS,GAAG,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;YACpF,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC;KACJ;CACJ,CAAC,CAAC","file":"ms-timepicker-view.js","sourcesContent":["import * as avalon from 'avalon2';\nimport * as moment from 'moment';\n\nconst OPTION_HEIGHT = 24;\n\navalon.component('ms-timepicker-view', {\n    template: __inline('./ms-timepicker-view.html'),\n    defaults: {\n        value: '',\n        currentHour: 0,\n        currentMinute: 0,\n        currentSecond: 0,\n        hourOptions: avalon.range(24).map(n => ('0' + n).substr(-2)),\n        minuteOptions: avalon.range(60).map(n => ('0' + n).substr(-2)),\n        secondOptions: avalon.range(60).map(n => ('0' + n).substr(-2)),\n        onChange: avalon.noop,\n        select(el, type) {\n            this.$element.getElementsByClassName('ane-timepicker-view-select')[type + '-options'].scrollTop = el * 24;\n            if (type === 'hour') {\n                this.currentHour = el;\n            } else if (type === 'minute') {\n                this.currentMinute = el;\n            } else {\n                this.currentSecond = el;\n            }\n            this.onChange({\n                target: {\n                    hour: this.currentHour,\n                    minute: this.currentMinute,\n                    second: this.currentSecond,\n                },\n                type: 'timepicker-view-changed'\n            });\n        },\n        onInit() {\n            this.$watch('value', v => {\n                const m = moment(v.split(','));\n                this.currentHour = m.hour();\n                this.currentMinute = m.minute();\n                this.currentSecond = m.second();\n\n                const selectElements = this.$element.getElementsByClassName('ane-timepicker-view-select');\n                selectElements['hour-options'].scrollTop = this.currentHour * OPTION_HEIGHT;\n                selectElements['minute-options'].scrollTop = this.currentMinute * OPTION_HEIGHT;\n                selectElements['second-options'].scrollTop = this.currentSecond * OPTION_HEIGHT;\n            });\n            this.$fire('value', this.value);\n        }\n    }\n});"]}