define("vendor/ane/components/ms-control-select2/ms-control-select2",function(e){"use strict";var t=e("avalon"),l=e("services/storeService.ts"),o=e("/vendor/ane-component/ane-util");e("node_modules/select2/dist/js/select2"),e("node_modules/select2/dist/js/i18n/zh-CN"),t.component("ms:controlSelect2",{$slot:"content",content:"",$template:'\n<div class="form-group">\n    <label class="control-label">{{label}}</label>\n    <select class="form-control" ms-attr-name="col" ms-attr-multiple="multiple">{{content|html}}</select>\n</div>\n',$replace:1,$dynamicProp:{duplex:{type:"String"},"value-list":{type:"Array"}},$$template:function(e){var l=this,o=t.vmodels[this.parentVmId];return this.model=this.model||o&&o.model||"record",l.store&&(e=e.replace(/\{\{content\|html\}\}/g,'<option ms-repeat="options" ms-attr-value="el.id" ms-attr-selected="el.selected">{{el.text}}</option>')),e},$init:function(e,s){e.$parentVmId=o.pickToRefs(e,s),o.enableDynamicProp(e,s),e.store&&!l[e.store]&&t.error("配置了数据源，但数据源["+e.store+"]似乎未定义，/services/storeService.js"),e.$watch("duplex",function(t){e.$select.val()!=t&&e.$select.val(t).trigger("change")}),e.$watch("*",function(t,l,o){if("valueList"===o){if(e.$select.val().toString()==t.$model.toString())return;e.$select.val(t.$model).trigger("change")}})},$ready:function(e,o){e.$select=$(o).find("select"),e.store?e.multiple?(e.options=[],t.each(e.valueList,function(t,l){e.options.push({id:l,text:l})}),e.$select.val(e.valueList.$model).trigger("change")):(e.options=[],e.duplex&&e.options.push({id:e.duplex,text:e.duplex,selected:!0}),e.$select.val(e.duplex).trigger("change")):e.multiple?e.$select.val(e.valueList.$model).trigger("change"):e.$select.val(e.duplex).trigger("change");var s={language:"zh-CN",placeholder:e.placeholder,allowClear:!0};e.store&&t.mix(s,{ajax:{delay:500,data:function(t){return l[e.store].processRequest({query:t.term,page:t.page||1})},processResults:function(t,o){return o.page=o.page||1,t=l[e.store].processResponse(t,o),{results:t.rows,pagination:{more:o.page*(l[e.store].limit||30)<t.total}}},transport:function(o,s,n){l[e.store][e.action]||t.error("数据源["+e.store+"]的["+e.action+"]方法没有定义，/services/storeService.js");var r=l[e.store][e.action](o.data);r.then(s,n)}},escapeMarkup:function(e){return e},minimumInputLength:1,templateResult:function(t){return t.loading?t.text:t[e.colVal]},templateSelection:function(t){return t[e.colKey]||t.text}}),e.$select.select2(s).on("change",function(){e.multiple?e.$dynamicProp["value-list"].setter(e.$select.val()):e.$dynamicProp.duplex.setter(this.value),$(this).trigger("input")})},$dispose:function(e,t){o.removeFromRefs(e,t),$(t).find("select").off().select2("destroy")},$parentVmId:"",$select:{},label:"",col:"",store:"",action:"",colKey:"id",colVal:"name",model:"",placeholder:"请选择一项",duplex:"",valueList:[],options:[],multiple:!1})});