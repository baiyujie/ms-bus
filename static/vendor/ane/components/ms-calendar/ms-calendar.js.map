{"version":3,"sources":["/vendor/ane/components/ms-calendar/ms-calendar.ts"],"names":[],"mappings":";;;AAAA,gCAAkC;AAClC,+BAAiC;AAEjC,MAAM,CAAC,SAAS,CAAC,aAAa,EAAE;IAC5B,QAAQ,EAAE,QAAQ,CAAC,oBAAoB,CAAC;IACxC,QAAQ,EAAE;QACN,MAAM,EAAE,MAAM,EAAE;QAChB,KAAK,EAAE,EAAE;QACT,SAAS;YACL,IAAI,CAAC,EAAE,CAAC,CAAC;YACT,IAAM,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC7D,IAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAC1D,IAAM,kBAAkB,GAAG,eAAe,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;YACvE,IAAM,QAAQ,GAAG,eAAe,CAAC,GAAG,EAAE,CAAC;YACvC,IAAM,OAAO,GAAG,cAAc,CAAC,GAAG,EAAE,CAAC;YACrC,IAAM,YAAY,GAAG,kBAAkB,CAAC,IAAI,EAAE,CAAC;YAC/C,IAAM,QAAQ,GAAG,cAAc,CAAC,IAAI,EAAE,CAAC;YACvC,IAAI,MAAM,GAAG,CAAC,CAAC;YACf,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;gBACrB,IAAM,QAAQ,GAAG,EAAE,CAAC;gBACpB,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;oBACrB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;wBAC9B,QAAQ,CAAC,IAAI,CAAC,YAAY,GAAG,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;oBACnD,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;wBAC/B,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC;oBAC3C,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,QAAQ,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC;oBAC5B,CAAC;gBACL,CAAC;gBACD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC9B,CAAC;YACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;QACrC,CAAC;QACD,MAAM,YAAC,KAAK;YACR,IAAI,CAAC,MAAM,GAAG,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;YACxC,IAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC;KACJ;CACJ,CAAC,CAAC","file":"ms-calendar.js","sourcesContent":["import * as avalon from 'avalon2';\nimport * as moment from 'moment';\n\navalon.component('ms-calendar', {\n    template: __inline('./ms-calendar.html'),\n    defaults: {\n        $value: moment(),\n        table: [],\n        calcTable() {\n            let i, j;\n            const firstDayOfMonth = this.$value.clone().startOf('month');\n            const lastDayOfMonth = this.$value.clone().endOf('month');\n            const lastDayOfPrevMonth = firstDayOfMonth.clone().subtract(1, 'days');\n            const firstDay = firstDayOfMonth.day();\n            const lastDay = lastDayOfMonth.day();\n            const prevLastDate = lastDayOfPrevMonth.date();\n            const lastDate = lastDayOfMonth.date();\n            let passed = 0;\n            for (i = 0; i < 6; i++) {\n                const tableRow = [];\n                for (j = 0; j < 7; j++) {\n                    if (i === 0 && j + 1 < firstDay) {\n                        tableRow.push(prevLastDate - firstDay + j + 2);\n                    } else if (passed + 1 > lastDate) {\n                        tableRow.push(passed++ + 1 - lastDate);\n                    } else {\n                        tableRow.push(++passed);\n                    }\n                }\n                this.table.push(tableRow);\n            }\n            console.log(this.table.toJSON());\n        },\n        onInit(event) {\n            this.$value = moment().add(2, 'months');\n            this.calcTable();\n        }\n    }\n});"]}