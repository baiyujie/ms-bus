{"version":3,"sources":["/vendor/ane/components/ms-calendar/ms-calendar-year-view.ts"],"names":[],"mappings":"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","file":"ms-calendar-year-view.js","sourcesContent":["import * as avalon from 'avalon2';\nimport * as moment from 'moment';\n\nconst monthTable = [];\n\navalon.component('ms-calendar-year-view', {\n    template: __inline('./ms-calendar-year-view.html'),\n    defaults: {\n        table: [],\n        // 0-月视图，1-年视图，2-十年视图，3-百年视图\n        view: 1,\n        currentMonth: '',\n        currentYear: 0,\n        isSelected(el) {\n            return false;\n        },\n        onSelect: avalon.noop,\n        handleCellClick(el) {\n            this.onSelect(el);\n        },\n        onInit() {\n            const monthList = moment.localeData().monthsShort();\n            if (monthTable.length === 0) {\n                [0, 3, 6, 9].forEach(n => {\n                    monthTable.push(monthList.slice(n, n + 3).map(m => ({ label: m, value: m })));\n                });\n            }\n            this.$watch('view', v => {\n                const startOfDecade = this.currentYear - this.currentYear % 10;\n                const startOfCentury = this.currentYear - this.currentYear % 100;\n                switch (v) {\n                    case 1:\n                        this.table = monthTable; break;\n                    case 2: \n                        this.table = [0, 3, 6, 9].map(n => avalon.range(startOfDecade - 1, startOfDecade + 11)\n                                                    .slice(n, n + 3)\n                                                    .map(m => ({ label: m, value: m }))); break;\n                    case 3:\n                        this.table = [0, 3, 6, 9].map(n => avalon.range(startOfCentury - 10, startOfCentury + 110, 10)\n                                                    .slice(n, n + 3)\n                                                    .map(m => ({ label: `${m}-${m + 9}`, value: m }))); break;\n                }\n            });\n            this.$watch('currentYear', v => {\n                this.$fire('view', this.view);\n            });\n        }\n    }\n});"]}