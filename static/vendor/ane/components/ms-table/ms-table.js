define("vendor/ane/components/ms-table/ms-table.ts",function(e){"use strict";function n(e,t){return void 0===t&&(t=1),e.reduce(function(e,i){if("ms-table-header"!=i.is)return e;if("selection"==i.props.type)return e;var a=i.inlineTemplate;return a=a.replace(/(ms-|:)skip="[^"]*"/g,""),a=a.replace(/<\s*ms-table-header[^>]*>.*<\/\s*ms-table-header\s*>/g,""),a=a.replace(/(ms-|:)click="handle\(([^"]*)\)"/g,function(e,n,t){return(n+'click="handle('+t+',)"').replace(/,/,", col, record, $index,").replace(/,\)/,")")}),e.push({title:i.props.title,dataIndex:i.props.dataIndex||"",template:/^\s*$/.test(a)?"{{record."+i.props.dataIndex+"}}":a}),e.concat(n(i.children,t+1))},[])}var t=e("node_modules/avalon2/dist/avalon");e("vendor/ane/components/ms-checkbox/ms-checkbox.ts"),e("vendor/ane/components/ms-pagination/ms-pagination.ts");var i=e("vendor/ane/ane-util.ts");e("vendor/ane/components/ms-loading/index.ts");var a=function(){return{current:1,pageSize:10,total:0/0,onChange:t.noop}};t.component("ms-table",{soleSlot:"header",template:'\n<div>\n    <table class="table" :loading="!window.isNaN(@paginationConfig.total) && @loading">\n        <thead>\n            <tr>\n                <th :if="@needSelection">\n                    <ms-checkbox :widget="{checked:@isAllChecked,onChange:@handleCheckAll}"></ms-checkbox>\n                </th>\n                <th :for="el in @columns">{{el.title}}</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr :for="($index, record) in @getCurrentPageData()">\n                <td :if="@needSelection">\n                    <ms-checkbox :widget="{checked:@checked.indexOf(record[@key])!=-1,onChange:function(){@handleCheck(arguments[0].target.checked,record)}}"></ms-checkbox>\n                </td>\n                <td :for="col in @columns" :html="col.template"></td>\n            </tr>\n        </tbody>\n    </table>\n    <div class="ane-table-pagination pull-right">\n        <ms-pagination :widget="{current:@paginationConfig.current,pageSize:@paginationConfig.pageSize,total:@total,onChange:@handlePageChange}"></ms-pagination>\n    </div>\n    <div class="clearfix"></div>\n</div>\n',defaults:{header:"",columns:[],data:[],key:"id",loading:!1,needSelection:!1,checked:[],selection:[],isAllChecked:!1,onSelect:t.noop,onSelectAll:t.noop,selectionChange:t.noop,handleCheckAll:function(e){var n=this,t=this.getCurrentPageData();e.target.checked?t.forEach(function(e){n.checked.ensure(e[n.key]),n.selection.ensure(e)}):isNaN(this.paginationConfig.total)?(this.checked.removeAll(function(e){return-1!==t.map(function(e){return e[n.key]}).indexOf(e)}),this.selection.removeAll(function(e){return-1!==t.indexOf(e)})):(this.checked.clear(),this.selection.clear()),this.selectionChange(this.checked,this.selection.$model),this.onSelectAll(e.target.checked,this.selection.$model)},handleCheck:function(e,n){e?(this.checked.ensure(n[this.key]),this.selection.ensure(n)):(this.checked.remove(n[this.key]),this.selection.remove(n)),this.selectionChange(this.checked,this.selection.$model),this.onSelect(n.$model,e,this.selection.$model)},actions:{},handle:function(e,n,t,i){for(var a=[],o=4;o<arguments.length;o++)a[o-4]=arguments[o];var c=t[n.dataIndex].$model||t[n.dataIndex];this.actions.apply(this,[e,c,t.$model,i].concat(a))},pagination:a(),paginationConfig:a(),handlePageChange:function(e){this.paginationConfig.onChange(e),this.paginationConfig.current=e,this.$fire("checked.length",this.checked.length),this.onChange(this.paginationConfig.$model)},getCurrentPageData:function(){return isNaN(this.paginationConfig.total)?this.data.slice(this.paginationConfig.pageSize*(this.paginationConfig.current-1),this.paginationConfig.pageSize*this.paginationConfig.current):this.data},$computed:{total:function(){return isNaN(this.paginationConfig.total)?this.data.length:this.paginationConfig.total}},onChange:t.noop,onInit:function(){var e=this,a=i.getChildTemplateDescriptor(this);a.forEach(function(n){return"selection"==n.props.type?(e.key=n.props.dataIndex||e.key,e.needSelection=!0,!1):void 0}),this.columns=n(a),this.$watch("checked.length",function(){var n=e.getCurrentPageData().map(function(n){return n[e.key]});e.isAllChecked=n.filter(function(n){return e.checked.contains(n)}).length==n.length}),this.$watch("data",function(){e.isAllChecked=!1,e.checked.clear(),e.selection.clear()}),this.$watch("data.length",function(){e.isAllChecked=!1,e.checked.clear(),e.selection.clear()}),this.$watch("pagination",function(n){t.mix(e.paginationConfig,n)}),this.$watch("pagination.current",function(n){e.paginationConfig.current=n}),this.$watch("pagination.pageSize",function(n){e.paginationConfig.pageSize=n}),this.$watch("pagination.total",function(n){e.paginationConfig.total=n}),this.$watch("pagination.onChange",function(n){e.paginationConfig.onChange=n}),this.$fire("pagination",this.pagination.$model)},onReady:function(){},onDispose:function(){}}})});