{"version":3,"sources":["/vendor/ane/tests/mod.js"],"names":[],"mappings":"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","file":"mod.js","sourcesContent":["/**\n * @file: mod.js\n * @author fis\n * ver: 1.0.13\n * update: 2016/01/27\n * https://github.com/fex-team/mod\n */\nvar require;\n\n/* eslint-disable no-unused-vars */\nvar define;\n\n(function (global) {\n\n    // 避免重复加载而导致已定义模块丢失\n    if (require) {\n        return;\n    }\n\n    var head = document.getElementsByTagName('head')[0];\n    var loadingMap = {};\n    var factoryMap = {};\n    var modulesMap = {};\n    var scriptsMap = {};\n    var resMap = {};\n    var pkgMap = {};\n\n    var createScripts = function(queues, onerror){\n\n        var docFrag = document.createDocumentFragment();\n\n        for(var i = 0, len = queues.length; i < len; i++){\n            var id = queues[i].id;\n            var url = queues[i].url;\n\n            if (url in scriptsMap) {\n                continue;\n            }\n\n            scriptsMap[url] = true;\n\n            var script = document.createElement('script');\n            if (onerror) {\n                (function(script, id){\n                    var tid = setTimeout(function(){\n                        onerror(id);\n                    }, require.timeout);\n\n                    script.onerror = function () {\n                        clearTimeout(tid);\n                        onerror(id);\n                    };\n\n                    var onload = function () {\n                        clearTimeout(tid);\n                    };\n\n                    if ('onload' in script) {\n                        script.onload = onload;\n                    }\n                    else {\n                        script.onreadystatechange = function () {\n                            if (this.readyState === 'loaded' || this.readyState === 'complete') {\n                                onload();\n                            }\n                        };\n                    }\n                })(script, id);\n            }\n            script.type = 'text/javascript';\n            script.src = url;\n\n            docFrag.appendChild(script);\n        }\n\n        head.appendChild(docFrag);\n    };\n\n    var loadScripts = function(ids, callback, onerror){\n        var queues = [];\n        for(var i = 0, len = ids.length; i < len; i++){\n            var id = ids[i];\n            var queue = loadingMap[id] || (loadingMap[id] = []);\n            queue.push(callback);\n\n            //\n            // resource map query\n            //\n            var res = resMap[id] || resMap[id + '.js'] || {};\n            var pkg = res.pkg;\n            var url;\n\n            if (pkg) {\n                url = pkgMap[pkg].url || pkgMap[pkg].uri;\n            }\n            else {\n                url = res.url || res.uri || id;\n            }\n\n            queues.push({\n                id: id,\n                url: url\n            });\n        }\n\n        createScripts(queues, onerror);\n    };\n\n    define = function (id, factory) {\n        id = id.replace(/\\.js$/i, '');\n        factoryMap[id] = factory;\n\n        var queue = loadingMap[id];\n        if (queue) {\n            for (var i = 0, n = queue.length; i < n; i++) {\n                queue[i]();\n            }\n            delete loadingMap[id];\n        }\n    };\n\n    require = function (id) {\n\n        // compatible with require([dep, dep2...]) syntax.\n        if (id && id.splice) {\n            return require.async.apply(this, arguments);\n        }\n\n        id = require.alias(id);\n\n        var mod = modulesMap[id];\n        if (mod) {\n            return mod.exports;\n        }\n\n        //\n        // init module\n        //\n        var factory = factoryMap[id];\n        if (!factory) {\n            throw '[ModJS] Cannot find module `' + id + '`';\n        }\n\n        mod = modulesMap[id] = {\n            exports: {}\n        };\n\n        //\n        // factory: function OR value\n        //\n        var ret = (typeof factory === 'function') ? factory.apply(mod, [require, mod.exports, mod]) : factory;\n\n        if (ret) {\n            mod.exports = ret;\n        }\n\n        return mod.exports;\n    };\n\n    require.async = function (names, onload, onerror) {\n        if (typeof names === 'string') {\n            names = [names];\n        }\n\n        var needMap = {};\n        var needNum = 0;\n        var needLoad = [];\n\n        function findNeed(depArr) {\n            var child;\n\n            for (var i = 0, n = depArr.length; i < n; i++) {\n                //\n                // skip loading or loaded\n                //\n                var dep = require.alias(depArr[i]);\n\n                if (dep in needMap) {\n                    continue;\n                }\n\n                needMap[dep] = true;\n\n                if (dep in factoryMap) {\n                    // check whether loaded resource's deps is loaded or not\n                    child = resMap[dep] || resMap[dep + '.js'];\n                    if (child && 'deps' in child) {\n                        findNeed(child.deps);\n                    }\n                    continue;\n                }\n\n                needLoad.push(dep);\n                needNum++;\n\n                child = resMap[dep] || resMap[dep + '.js'];\n                if (child && 'deps' in child) {\n                    findNeed(child.deps);\n                }\n            }\n        }\n\n        function updateNeed() {\n            if (0 === needNum--) {\n                var args = [];\n                for (var i = 0, n = names.length; i < n; i++) {\n                    args[i] = require(names[i]);\n                }\n\n                onload && onload.apply(global, args);\n            }\n        }\n\n        findNeed(names);\n        loadScripts(needLoad, updateNeed, onerror);\n        updateNeed();\n    };\n    \n    require.ensure = function(names, callback) {\n      require.async(names, function() {\n        callback && callback.call(this, require);\n      });\n    };\n\n    require.resourceMap = function (obj) {\n        var k;\n        var col;\n\n        // merge `res` & `pkg` fields\n        col = obj.res;\n        for (k in col) {\n            if (col.hasOwnProperty(k)) {\n                resMap[k] = col[k];\n            }\n        }\n\n        col = obj.pkg;\n        for (k in col) {\n            if (col.hasOwnProperty(k)) {\n                pkgMap[k] = col[k];\n            }\n        }\n    };\n\n    require.loadJs = function (url) {\n        if (url in scriptsMap) {\n            return;\n        }\n\n        scriptsMap[url] = true;\n\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = url;\n        head.appendChild(script);\n    };\n\n    require.loadCss = function (cfg) {\n        if (cfg.content) {\n            var sty = document.createElement('style');\n            sty.type = 'text/css';\n\n            if (sty.styleSheet) { // IE\n                sty.styleSheet.cssText = cfg.content;\n            }\n            else {\n                sty.innerHTML = cfg.content;\n            }\n            head.appendChild(sty);\n        }\n        else if (cfg.url) {\n            var link = document.createElement('link');\n            link.href = cfg.url;\n            link.rel = 'stylesheet';\n            link.type = 'text/css';\n            head.appendChild(link);\n        }\n    };\n\n\n    require.alias = function (id) {\n        return id.replace(/\\.js$/i, '');\n    };\n\n    require.timeout = 5000;\n\n})(this);\n"]}