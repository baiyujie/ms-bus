{"version":3,"sources":["/vendor/ane-component/tests/mod.js"],"names":[],"mappings":"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","file":"mod.js","sourcesContent":["/**\r\n * @file: mod.js\r\n * @author fis\r\n * ver: 1.0.13\r\n * update: 2016/01/27\r\n * https://github.com/fex-team/mod\r\n */\r\nvar require;\r\n\r\n/* eslint-disable no-unused-vars */\r\nvar define;\r\n\r\n(function (global) {\r\n\r\n    // 避免重复加载而导致已定义模块丢失\r\n    if (require) {\r\n        return;\r\n    }\r\n\r\n    var head = document.getElementsByTagName('head')[0];\r\n    var loadingMap = {};\r\n    var factoryMap = {};\r\n    var modulesMap = {};\r\n    var scriptsMap = {};\r\n    var resMap = {};\r\n    var pkgMap = {};\r\n\r\n    var createScripts = function(queues, onerror){\r\n\r\n        var docFrag = document.createDocumentFragment();\r\n\r\n        for(var i = 0, len = queues.length; i < len; i++){\r\n            var id = queues[i].id;\r\n            var url = queues[i].url;\r\n\r\n            if (url in scriptsMap) {\r\n                continue;\r\n            }\r\n\r\n            scriptsMap[url] = true;\r\n\r\n            var script = document.createElement('script');\r\n            if (onerror) {\r\n                (function(script, id){\r\n                    var tid = setTimeout(function(){\r\n                        onerror(id);\r\n                    }, require.timeout);\r\n\r\n                    script.onerror = function () {\r\n                        clearTimeout(tid);\r\n                        onerror(id);\r\n                    };\r\n\r\n                    var onload = function () {\r\n                        clearTimeout(tid);\r\n                    };\r\n\r\n                    if ('onload' in script) {\r\n                        script.onload = onload;\r\n                    }\r\n                    else {\r\n                        script.onreadystatechange = function () {\r\n                            if (this.readyState === 'loaded' || this.readyState === 'complete') {\r\n                                onload();\r\n                            }\r\n                        };\r\n                    }\r\n                })(script, id);\r\n            }\r\n            script.type = 'text/javascript';\r\n            script.src = url;\r\n\r\n            docFrag.appendChild(script);\r\n        }\r\n\r\n        head.appendChild(docFrag);\r\n    };\r\n\r\n    var loadScripts = function(ids, callback, onerror){\r\n        var queues = [];\r\n        for(var i = 0, len = ids.length; i < len; i++){\r\n            var id = ids[i];\r\n            var queue = loadingMap[id] || (loadingMap[id] = []);\r\n            queue.push(callback);\r\n\r\n            //\r\n            // resource map query\r\n            //\r\n            var res = resMap[id] || resMap[id + '.js'] || {};\r\n            var pkg = res.pkg;\r\n            var url;\r\n\r\n            if (pkg) {\r\n                url = pkgMap[pkg].url || pkgMap[pkg].uri;\r\n            }\r\n            else {\r\n                url = res.url || res.uri || id;\r\n            }\r\n\r\n            queues.push({\r\n                id: id,\r\n                url: url\r\n            });\r\n        }\r\n\r\n        createScripts(queues, onerror);\r\n    };\r\n\r\n    define = function (id, factory) {\r\n        id = id.replace(/\\.js$/i, '');\r\n        factoryMap[id] = factory;\r\n\r\n        var queue = loadingMap[id];\r\n        if (queue) {\r\n            for (var i = 0, n = queue.length; i < n; i++) {\r\n                queue[i]();\r\n            }\r\n            delete loadingMap[id];\r\n        }\r\n    };\r\n\r\n    require = function (id) {\r\n\r\n        // compatible with require([dep, dep2...]) syntax.\r\n        if (id && id.splice) {\r\n            return require.async.apply(this, arguments);\r\n        }\r\n\r\n        id = require.alias(id);\r\n\r\n        var mod = modulesMap[id];\r\n        if (mod) {\r\n            return mod.exports;\r\n        }\r\n\r\n        //\r\n        // init module\r\n        //\r\n        var factory = factoryMap[id];\r\n        if (!factory) {\r\n            throw '[ModJS] Cannot find module `' + id + '`';\r\n        }\r\n\r\n        mod = modulesMap[id] = {\r\n            exports: {}\r\n        };\r\n\r\n        //\r\n        // factory: function OR value\r\n        //\r\n        var ret = (typeof factory === 'function') ? factory.apply(mod, [require, mod.exports, mod]) : factory;\r\n\r\n        if (ret) {\r\n            mod.exports = ret;\r\n        }\r\n\r\n        return mod.exports;\r\n    };\r\n\r\n    require.async = function (names, onload, onerror) {\r\n        if (typeof names === 'string') {\r\n            names = [names];\r\n        }\r\n\r\n        var needMap = {};\r\n        var needNum = 0;\r\n        var needLoad = [];\r\n\r\n        function findNeed(depArr) {\r\n            var child;\r\n\r\n            for (var i = 0, n = depArr.length; i < n; i++) {\r\n                //\r\n                // skip loading or loaded\r\n                //\r\n                var dep = require.alias(depArr[i]);\r\n\r\n                if (dep in needMap) {\r\n                    continue;\r\n                }\r\n\r\n                needMap[dep] = true;\r\n\r\n                if (dep in factoryMap) {\r\n                    // check whether loaded resource's deps is loaded or not\r\n                    child = resMap[dep] || resMap[dep + '.js'];\r\n                    if (child && 'deps' in child) {\r\n                        findNeed(child.deps);\r\n                    }\r\n                    continue;\r\n                }\r\n\r\n                needLoad.push(dep);\r\n                needNum++;\r\n\r\n                child = resMap[dep] || resMap[dep + '.js'];\r\n                if (child && 'deps' in child) {\r\n                    findNeed(child.deps);\r\n                }\r\n            }\r\n        }\r\n\r\n        function updateNeed() {\r\n            if (0 === needNum--) {\r\n                var args = [];\r\n                for (var i = 0, n = names.length; i < n; i++) {\r\n                    args[i] = require(names[i]);\r\n                }\r\n\r\n                onload && onload.apply(global, args);\r\n            }\r\n        }\r\n\r\n        findNeed(names);\r\n        loadScripts(needLoad, updateNeed, onerror);\r\n        updateNeed();\r\n    };\r\n    \r\n    require.ensure = function(names, callback) {\r\n      require.async(names, function() {\r\n        callback && callback.call(this, require);\r\n      });\r\n    };\r\n\r\n    require.resourceMap = function (obj) {\r\n        var k;\r\n        var col;\r\n\r\n        // merge `res` & `pkg` fields\r\n        col = obj.res;\r\n        for (k in col) {\r\n            if (col.hasOwnProperty(k)) {\r\n                resMap[k] = col[k];\r\n            }\r\n        }\r\n\r\n        col = obj.pkg;\r\n        for (k in col) {\r\n            if (col.hasOwnProperty(k)) {\r\n                pkgMap[k] = col[k];\r\n            }\r\n        }\r\n    };\r\n\r\n    require.loadJs = function (url) {\r\n        if (url in scriptsMap) {\r\n            return;\r\n        }\r\n\r\n        scriptsMap[url] = true;\r\n\r\n        var script = document.createElement('script');\r\n        script.type = 'text/javascript';\r\n        script.src = url;\r\n        head.appendChild(script);\r\n    };\r\n\r\n    require.loadCss = function (cfg) {\r\n        if (cfg.content) {\r\n            var sty = document.createElement('style');\r\n            sty.type = 'text/css';\r\n\r\n            if (sty.styleSheet) { // IE\r\n                sty.styleSheet.cssText = cfg.content;\r\n            }\r\n            else {\r\n                sty.innerHTML = cfg.content;\r\n            }\r\n            head.appendChild(sty);\r\n        }\r\n        else if (cfg.url) {\r\n            var link = document.createElement('link');\r\n            link.href = cfg.url;\r\n            link.rel = 'stylesheet';\r\n            link.type = 'text/css';\r\n            head.appendChild(link);\r\n        }\r\n    };\r\n\r\n\r\n    require.alias = function (id) {\r\n        return id.replace(/\\.js$/i, '');\r\n    };\r\n\r\n    require.timeout = 5000;\r\n\r\n})(this);\r\n"]}