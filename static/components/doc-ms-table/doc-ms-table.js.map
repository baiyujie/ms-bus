{"version":3,"sources":["/components/doc-ms-table/doc-ms-table.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,gCAAkC;AAIlC,uDAA8C;AAC9C,2BAA8B;AAEjB,YAAI,GAAG,cAAc,CAAC;AAEnC,MAAM,CAAC,SAAS,CAAC,YAAI,EAAE;IACnB,QAAQ,EAAE,QAAQ,CAAC,qBAAqB,CAAC;IACzC,QAAQ,EAAE;QACN,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC;YAC7B,EAAE,EAAE,CAAC,EAAE,IAAI,EAAE,iBAAK,CAAG,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI;SACvD,CAAC,EAF8B,CAE9B,CAAC;QACH,UAAU,EAAE,EAAE;QACd,OAAO,EAAE,KAAK;QACd,UAAU,EAAE;YACR,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC;SACxB;QACD,KAAK,YAAC,MAAW;YAAjB,iBAcC;YAdK,oCAAW;YACb,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,wBAAI,CAAC;gBACD,GAAG,EAAE,WAAW;gBAChB,MAAM,EAAE,KAAK;gBACb,IAAI,eACG,MAAM,CACZ;aACJ,CAAC,CAAC,IAAI,CAAC,cAAI;gBACR,KAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACnC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,gBAAgB,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;gBAC3C,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC5B,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACzB,CAAC,CAAC,CAAC;QACP,CAAC;QACD,iBAAiB,YAAC,UAAU;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC5C,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC;YACjD,CAAC;YACD,IAAI,CAAC,KAAK,CAAC;gBACP,KAAK,EAAE,UAAU,CAAC,QAAQ,GAAG,CAAC,UAAU,CAAC,OAAO,GAAG,CAAC,CAAC;gBACrD,KAAK,EAAE,UAAU,CAAC,QAAQ;aAC7B,CAAC,CAAC;QACP,CAAC;QACD,OAAO,YAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK;YAC7B,EAAE,CAAC,CAAC,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,YAAE,IAAI,SAAE,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,EAAlB,CAAkB,CAAE,CAAC;gBAC/C,aAAO,CAAC,OAAO,CAAC;oBACZ,OAAO,EAAE,MAAM;iBAClB,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QACD,YAAY,YAAC,MAAM,EAAE,QAAQ,EAAE,YAAY;YACvC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC;QAChD,CAAC;QACD,eAAe,YAAC,QAAQ,EAAE,YAAY;YAClC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;QACxC,CAAC;QACD,qBAAqB,YAAC,eAAe,EAAE,YAAY;YAC/C,OAAO,CAAC,GAAG,CAAC,sBAAoB,eAAiB,EAAE,gBAAgB,EAAE,YAAY,CAAC,CAAC;QACvF,CAAC;QACD,YAAY,YAAC,CAAC;QAEd,CAAC;QACD,MAAM,YAAC,KAAK;YACR,IAAI,CAAC,KAAK,EAAE,CAAC;QACjB,CAAC;KACJ;CACJ,CAAC,CAAC","file":"doc-ms-table.js","sourcesContent":["import * as avalon from 'avalon2';\nimport * as beyond from '../../vendor/beyond';\nimport * as bootbox from 'bootbox';\n\nimport ajax from '../../services/ajaxService';\nimport { message } from \"ane\";\n\nexport const name = 'doc-ms-table';\n\navalon.component(name, {\n    template: __inline('./doc-ms-table.html'),\n    defaults: {\n        list: avalon.range(29).map(n => ({\n            id: n, name: `老狼${n}`, address: '深山', province: '老林'\n        })),\n        remoteList: [],\n        loading: false,\n        pagination: {\n            pageSize: 6, total: 0\n        },\n        fetch(params = {}) {\n            this.loading = true;\n            ajax({\n                url: '/api/demo',\n                method: 'get',\n                data: {\n                    ...params\n                }\n            }).then(data => {\n                this.pagination.total = data.total;\n                data.list[0].region_parent_id = Date.now();\n                this.remoteList = data.list;\n                this.loading = false;\n            });\n        },\n        handleTableChange(pagination) {\n            if (this.pagination.hasOwnProperty('current')) {\n                this.pagination.current = pagination.current;\n            }\n            this.fetch({\n                start: pagination.pageSize * (pagination.current - 1),\n                limit: pagination.pageSize\n            });\n        },\n        actions(type, text, record, index) {\n            if (type == 'delete') {\n                this.list.removeAll(el => el.id == record.id );\n                message.success({\n                    content: '删除成功'\n                });\n            }\n        },\n        handleSelect(record, selected, selectedRows) {\n            console.log(record, selected, selectedRows);\n        },\n        handleSelectAll(selected, selectedRows) {\n            console.log(selected, selectedRows);\n        },\n        handleSelectionChange(selectedRowKeys, selectedRows) {\n            console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n        },\n        handleChange(e) {\n\n        },\n        onInit(event) {\n            this.fetch();\n        }\n    }\n});"]}