define("node_modules/mmRouter/dist/mmRouter",function(){!function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){function n(){this.rules=[]}function r(t){var e=t.split("?"),a={},n=e[0],r=e[1];if(r)for(var o,i=r.split("&"),s=i.length,h=0;s>h;h++)i[h]&&(o=i[h].split("="),a[decodeURIComponent(o[0])]=decodeURIComponent(o[1]));return{path:n,query:a}}function o(t){return"/"===t?!0:"string"==typeof t&&t.length>1&&"/"===t.charAt(0)?!0:void 0}function i(t){if("string"==typeof t)return t;var e=[];for(var a in t)"query"!==a&&e.push(a+"="+encodeURIComponent(t[a]));return e.length?"?"+e.join("&"):""}function s(t,e,a){var n=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return n;var r=a?"?":"";return n+r+"("+e+")"+r}var h=(a(6),a(7)),c=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g;n.prototype=h,avalon.mix(h,{error:function(t){this.errorback=t},_pathToRegExp:function(t,e){for(var a,n,r,o,i=e.keys=[],h="^",l=0;a=c.exec(t);){n=a[2]||a[3],r=a[4]||("*"==a[1]?".*":"string"),o=t.substring(l,a.index);var u=this.$types[r],p={name:n};u&&(r=u.pattern,p.decode=u.decode),i.push(p),h+=s(o,r,!1),l=c.lastIndex}o=t.substring(l),h+=s(o)+(e.strict?e.last:"/?")+"$";var d="boolean"==typeof e.caseInsensitive?e.caseInsensitive:!0;return e.regexp=new RegExp(h,d?"i":void 0),e},add:function(t,e,a){var n=this.rules;"/"!==t.charAt(0)&&avalon.error("avalon.router.add的第一个参数必须以/开头"),a=a||{},a.callback=e,t.length>2&&"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1),a.last="/"),avalon.Array.ensure(n,this._pathToRegExp(t,a))},route:function(t,e){t=t.trim();for(var a,n=this.rules,r=0;a=n[r++];){var o=t.match(a.regexp);if(o){a.query=e||{},a.path=t,a.params={};var i=a.keys;return o.shift(),i.length&&this._parseArgs(o,a),a.callback.apply(a,o)}}this.errorback&&this.errorback()},_parseArgs:function(t,e){for(var a=e.keys,n=0,r=a.length;r>n;n++){var o=a[n],i=t[n]||"";if("function"==typeof o.decode)var s=o.decode(i);else try{s=JSON.parse(i)}catch(h){s=i}t[n]=e.params[o.name]=s}},navigate:function(t,e){var a=r(t),n=this.route(a.path,a.query);return o(n)&&(t=n),avalon.router.setLastPath(t),1===e?avalon.history.setHash(t,!0):2===e&&avalon.history.setHash(t),t},when:function(t,e){var a=this,t=t instanceof Array?t:[t];return avalon.each(t,function(t,n){a.add(n,function(){var t=a.urlFormate(e,this.params,this.query);a.navigate(t.path+t.query)})}),this},urlFormate:function(t,e,a){var a=a?i(a):"",n=t.replace(c,function(t){var a=t.replace(/[\{\}]/g,"").split(":");return a=a[0]?a[0]:a[1],void 0!==e[a]?e[a]:""}).replace(/^\//g,"");return{path:n,query:a}},$types:{date:{pattern:"[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])",decode:function(t){return new Date(t.replace(/\-/g,"/"))}},string:{pattern:"[^\\/]*",decode:function(t){return t}},bool:{decode:function(t){return 0===parseInt(t,10)?!1:!0},pattern:"0|1"},"int":{decode:function(t){return parseInt(t,10)},pattern:"\\d+"}}}),t.exports=avalon.router=new n},,,,,,function(t){function e(t){var e=t.indexOf("#");return-1===e?"":decodeURI(t.slice(e))}function a(t){for(var e,a=document.getElementsByTagName("A"),n=0;e=a[n++];)if(e.name===t)return e}function n(t){var e,a=avalon(t).css("position");return e="fixed"!==a?0:t.getBoundingClientRect().bottom}function r(t){var e=document.getElementById(t);if(e||(e=a(t)),e){e.scrollIntoView();var r=n(e);if(r){var o=e.getBoundingClientRect().top;window.scrollBy(0,o-r.top)}}else window.scrollTo(0,0)}var o=document.location,i=avalon.msie<=7,s=!!window.history.pushState,h=!(!("onhashchange"in window)||window.VBArray&&i),c={root:"/",html5:!1,hashPrefix:"!",iframeID:null,interval:50,autoScroll:!1},l={hash:e(o.href),check:function(){var t=e(o.href);t!==this.hash&&(this.hash=t,this.onHashChanged())},start:function(t){if(this.started)throw new Error("avalon.history has already been started");this.started=!0,"boolean"==typeof t&&(t={html5:t}),t=avalon.mix({},c,t||{}),t.fireAnchor&&(t.autoScroll=!0);var e=t.root;/^\//.test(e)||avalon.error("root配置项必须以/字符开始, 以非/字符结束"),e.length>1&&(t.root=e.replace(/\/$/,""));var a=t.html5;switch(this.options=t,this.mode=a?"popstate":"hashchange",s||(a&&avalon.warn("浏览器不支持HTML5 pushState，平稳退化到onhashchange!"),this.mode="hashchange"),h||(this.mode="iframepoll"),avalon.log("avalon run mmHistory in the ",this.mode,"mode"),this.mode){case"popstate":setTimeout(function(){window.onpopstate=l.onHashChanged},500);break;case"hashchange":window.onhashchange=l.onHashChanged;break;case"iframepoll":avalon.ready(function(){function e(){"location"===event.propertyName&&l.check()}var a=document.createElement("iframe");a.id=t.iframeID,a.style.display="none",document.body.appendChild(a),l.iframe=a,l.writeFrame(""),avalon.msie&&(document.attachEvent("onpropertychange",e),l.onPropertyChange=e),l.intervalID=window.setInterval(function(){l.check()},t.interval)})}this.onHashChanged()},stop:function(){switch(this.mode){case"popstate":window.onpopstate=avalon.noop;break;case"hashchange":window.onhashchange=avalon.noop;break;case"iframepoll":this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this.onPropertyChange&&document.detachEvent("onpropertychange",this.onPropertyChange),clearInterval(this.intervalID)}this.started=!1},setHash:function(t,e){switch(this.mode){case"iframepoll":if(e){var a=this.iframe;a&&(a.contentWindow._hash=t)}else this.writeFrame(t);break;case"popstate":var n=(this.options.root+"/"+t).replace(/\/+/g,"/"),r=e?"replaceState":"pushState";history[r]({},document.title,n),this.onHashChanged();break;default:var i=this.options.hashPrefix+t;e&&o.hash!==i&&history.back(),o.hash=i}},writeFrame:function(t){var e=l.iframe,a=e.contentDocument||e.contentWindow.document;a.open();var n="/script";a.write("<script>_hash = '"+t+"'; onload = parent.avalon.history.syncHash;<"+n+">"),a.close()},syncHash:function(){var t=this._hash;return t!==e(o.href)&&(o.hash=t),this},getPath:function(){var t=o.pathname.replace(this.options.root,"");return"/"!==t.charAt(0)&&(t="/"+t),t},onHashChanged:function(t,e){e||(t="popstate"===l.mode?l.getPath():o.href.replace(/.*#!?/,"")),t=decodeURIComponent(t),t="/"===t.charAt(0)?t:"/"+t,t!==l.hash&&(l.hash=t,avalon.router&&(t=avalon.router.navigate(t,0)),e&&l.setHash(t),e&&l.options.autoScroll&&r(t.slice(1)))}};avalon.bind(document,"click",function(t){if(l.started&&!(t.ctrlKey||t.metaKey||t.shiftKey||2===t.which)&&t.returnValue!==!1){for(var e=t.path?t.path[0]:t.target||t.srcElement||{};"A"!==e.nodeName;)if(e=e.parentNode,!e||"BODY"===e.tagName)return;var a=e.getAttribute("href",2)||e.getAttribute("xlink:href")||"";"#!"===a.slice(0,2)&&null==e.getAttribute("download")&&"external"!==e.getAttribute("rel")&&(a.indexOf("mailto:")>-1||e.target&&"_self"!==e.target||(t.preventDefault(),l.onHashChanged(a.replace("#!",""),!0)))}}),t.exports=avalon.history=l},function(t){function e(){try{return localStorage.setItem("avalon",1),localStorage.removeItem("avalon"),!0}catch(t){return!1}}function a(t){return String(t).replace(/[,;"\\=\s%]/g,function(t){return encodeURIComponent(t)})}function n(t,e){var n=new Date;n.setTime(n.getTime()+864e5),document.cookie=a(t)+"="+a(e)+";expires="+n.toGMTString()}function r(t){var e=String(document.cookie).match(new RegExp("(?:^| )"+t+"(?:(?:=([^;]*))|;|$)"))||["",""];return decodeURIComponent(e[1])}var o={};if(e()){o.getLastPath=function(){return localStorage.getItem("msLastPath")};var i;o.setLastPath=function(t){i&&(clearTimeout(i),i=null),localStorage.setItem("msLastPath",t),i=setTimeout(function(){localStorage.removItem("msLastPath")},864e5)}}else o.getLastPath=function(){return r.getItem("msLastPath")},o.setLastPath=function(t){n("msLastPath",t)};t.exports=o}])});