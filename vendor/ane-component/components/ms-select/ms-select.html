<template>
    <div class="bus-select form-control"
        :click="handleClick"
        role="combobox"
        aria-autocomplete="list"
        aria-haspopup="true"
        :attr="{'aria-expanded': @panelVisible + ''}">
        <span class="bus-select-selected" :visible="!@showSearch || !@panelVisible">{{@displayValue}}</span>
        <input class="bus-select-search" type="text" :duplex="@searchValue" :visible="@showSearch && @panelVisible" :attr="{placeholder: @displayValue}" />
        <i class="fa bus-select-arrow"
            :class="[(@panelVisible ? 'fa-caret-up' : 'fa-caret-down')]"
            :visible="@mode === ''"></i>
        <ms-trigger :widget="{
            width: @width,
            visible: @panelVisible,
            innerVmId: @panelVmId,
            innerClass: @panelClass,
            innerTemplate: @panelTemplate,
            withInBox: @withInBox,
            getTarget: @getTarget,
            onHide: @handlePanelHide}">
        </ms-trigger>
    </div>
</template>