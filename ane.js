;define("vendor/ane/ane-util.ts",function(e,n){"use strict";function r(e,n){for(var r=e.$element.parentElement;r;){if(r._vm_&&(!n||r._ctype_===n))return r._vm_;r=r.parentElement}return null}function t(e,n){void 0===n&&(n=e.$render.root?e.$render.root.children:[]),n.forEach(function(n){if(!n||!n.nodeName||1!==n.dom.nodeType)return!0;var r=n.dom.getAttribute("slot");r?(delete n.props[":skip"],delete n.props["ms-skip"],e[r]=d.vdom(n,"toHTML")):t(e,n.children)})}function o(e,n){return void 0===n&&(n=e.$render),n.directives.reduce(function(n,r){return r.is&&n.push({is:r.is,props:r.value,inlineTemplate:r.fragment,children:o(e,r.innerRender||{directives:[]})}),n},[])}function i(e,n,r){void 0===n&&(n=300),void 0===r&&(r=!1);var t;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var d=this,u=function(){t=null,r||e.apply(d,o)},l=r&&!t;clearTimeout(t),t=setTimeout(u,n),l&&e.apply(d,o)}}var d=e("node_modules/avalon2/dist/avalon");n.findParentComponent=r,n.parseSlotToVModel=t,n.getChildTemplateDescriptor=o,n.debounce=i});
;define("vendor/ane/components/ms-checkbox/ms-checkbox.ts",function(e){"use strict";var n=e("node_modules/avalon2/dist/avalon"),t=e("vendor/ane/ane-util.ts");if(n.msie<=8){var a=document,o=a.getElementsByTagName("head")[0],s=a.createElement("style"),l="\n        .checkbox-inner-ie input {\n            left: 0;\n            position: static !important;\n            margin-left: 0 !important;\n            margin-top: 6px !important;\n        }\n        .checkbox-inner-ie span {\n            display: none !important;\n        }\n    ";s.setAttribute("type","text/css"),s.styleSheet?s.styleSheet.cssText=l:s.appendChild(a.createTextNode(l)),o.appendChild(s)}n.component("ms-checkbox",{soleSlot:"label",template:'\n<div :class="@wrapper " class="checkbox-wrapper_nvmxj_2 " style="margin-top: 0; margin-bottom: 0;">\n    <label class="checkbox-inner_nvmxj_5 checkbox-inner-ie ">\n        <input type="checkbox"\n            :attr="{id:@helpId,disabled:@disabled}"\n            :duplex-checked="@checked"\n            data-duplex-changed="@onChange"\n            />\n        <span class="text "></span>\n    </label>\n    <label :attr="{\'for\':@helpId}" style="padding-left: 0;" :css="{marginRight:@group?8:0}"><slot /></label>\n</div>\n',defaults:{wrapper:"checkbox",label:"",checked:!1,group:!1,disabled:!1,onChange:n.noop,flush:n.noop,helpId:"",onInit:function(){this.helpId=this.$id},onReady:function(){t.parseSlotToVModel(this)},onDispose:function(){}}})});
;define("vendor/ane/components/ms-pagination/ms-pagination.ts",function(n){"use strict";var t=n("node_modules/avalon2/dist/avalon");t.component("ms-pagination",{template:'\n<div class="btn-group ">\n    <a class="btn blue " :attr="{disabled:@current===1}" :click="@prevPage">\n        <i class="icon-step-backward "></i>上一页\n    </a>\n    <a class="btn success ">{{ @current }}/{{ Math.ceil(@total/@pageSize) }}</a>\n    <a class="btn blue " :attr="{disabled:@current===Math.ceil(@total/@pageSize)}" :click="@nextPage">\n        <i class="icon-step-forward "></i>下一页\n    </a>\n</div>\n',defaults:{current:1,pageSize:10,total:0,prevPage:function(){this.current>1&&this.onChange(--this.current)},nextPage:function(){this.current<Math.ceil(this.total/this.pageSize)&&this.onChange(++this.current)},onChange:t.noop,onInit:function(){},onReady:function(){},onDispose:function(){}}})});
;define("vendor/ane/components/ms-loading/ms-loading-directive.ts",function(e,t){var i="undefined"!=typeof i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n=e("node_modules/avalon2/dist/avalon");n.directive("loading",{init:function(){this.instance=null,this.oldPositionStyle=""},update:function(e,t){var n=this;if(t)if(null===this.instance)var o=setInterval(function(){var t=e.dom,s=i.getComputedStyle?i.getComputedStyle(t):t.currentStyle,l=t.offsetWidth,a=t.offsetHeight,d=t.className,c=s.borderLeftWidth,m=s.borderTopWidth,r=s.display;if(n.oldPositionStyle=t.style.position,"none"===r&&clearInterval(o),0!==l&&0!==a){clearInterval(o);var f=i.document.createElement("div");f.className="ane-loading-mask",f.innerText="加载中...",f.style.left=0-("medium"===c?0:parseFloat(c))+"px",f.style.top=0-("medium"===m?0:parseFloat(m))+"px",f.style.width=l+"px",f.style.height=a+"px",f.style.lineHeight=a+"px",t.style.position="relative",~(" "+d+" ").indexOf(" masked ")||(t.className+=" masked"),t.appendChild(f),n.instance=f,console.log("mask初始化完成")}},100);else{var s=e.dom,l=this.instance,a=s.className;this.oldPositionStyle=s.style.position,l.style.display="block",s.style.position="relative",~(" "+a+" ").indexOf(" masked ")||(s.className=a+" masked")}else setTimeout(function(){if(null!==n.instance){var t=e.dom,i=n.instance,o=t.className;i.style.display="none",n.oldPositionStyle&&(t.style.position=n.oldPositionStyle),t.className=(" "+o+" ").replace(/\s*masked\s*/," ")}},100)},beforeDispose:function(){var e=this.node.dom;null!==this.instance&&e.removeChild(this.instance)}});var o=n.directives.loading,s={node:{dom:document.body}};t.Loading={show:function(){void 0===s.instance?(o.init.call(s),n.ready(function(){o.update.call(s,{dom:s.node.dom},!0)})):o.update.call(s,{dom:s.node.dom},!0)},hide:function(){void 0!==s.instance&&o.update.call(s,{dom:s.node.dom},!1)}}});
;define("vendor/ane/components/ms-loading/index.ts",function(n,e){"use strict";var o=n("vendor/ane/components/ms-loading/ms-loading-directive.ts");e.Loading=o.Loading});
;define("vendor/ane/components/ms-table/ms-table.ts",function(e){"use strict";function n(e,t){return void 0===t&&(t=1),e.reduce(function(e,i){if("ms-table-header"!=i.is)return e;if("selection"==i.props.type)return e;var a=i.inlineTemplate;return a=a.replace(/(ms-|:)skip="[^"]*"/g,""),a=a.replace(/<\s*ms-table-header[^>]*>.*<\/\s*ms-table-header\s*>/g,""),a=a.replace(/(ms-|:)click="handle\(([^"]*)\)"/g,function(e,n,t){return(n+'click="handle('+t+',)"').replace(/,/,", col, record, $index,").replace(/,\)/,")")}),e.push({title:i.props.title,dataIndex:i.props.dataIndex||"",template:/^\s*$/.test(a)?"{{record."+i.props.dataIndex+"}}":a}),e.concat(n(i.children,t+1))},[])}var t=e("node_modules/avalon2/dist/avalon");e("vendor/ane/components/ms-checkbox/ms-checkbox.ts"),e("vendor/ane/components/ms-pagination/ms-pagination.ts");var i=e("vendor/ane/ane-util.ts");e("vendor/ane/components/ms-loading/index.ts");var a=function(){return{current:1,pageSize:10,total:0/0,onChange:t.noop}};t.component("ms-table",{soleSlot:"header",template:'\n<div>\n    <table class="table " :loading="!window.isNaN(@paginationConfig.total) && @loading">\n        <thead>\n            <tr>\n                <th :if="@needSelection">\n                    <ms-checkbox :widget="{checked:@isAllChecked,onChange:@handleCheckAll}"></ms-checkbox>\n                </th>\n                <th :for="el in @columns">{{el.title}}</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr :for="($index, record) in @getCurrentPageData()">\n                <td :if="@needSelection">\n                    <ms-checkbox :widget="{checked:@checked.indexOf(record[@key])!=-1,onChange:function(){@handleCheck(arguments[0].target.checked,record)}}"></ms-checkbox>\n                </td>\n                <td :for="col in @columns" :html="col.template"></td>\n            </tr>\n        </tbody>\n    </table>\n    <div class="table-pagination_1p5ox_2 pull-right ">\n        <ms-pagination :widget="{current:@paginationConfig.current,pageSize:@paginationConfig.pageSize,total:@total,onChange:@handlePageChange}"></ms-pagination>\n    </div>\n    <div class="clearfix "></div>\n</div>\n',defaults:{header:"",columns:[],data:[],key:"id",loading:!1,needSelection:!1,checked:[],selection:[],isAllChecked:!1,onSelect:t.noop,onSelectAll:t.noop,selectionChange:t.noop,handleCheckAll:function(e){var n=this,t=this.getCurrentPageData();e.target.checked?t.forEach(function(e){n.checked.ensure(e[n.key]),n.selection.ensure(e)}):isNaN(this.paginationConfig.total)?(this.checked.removeAll(function(e){return-1!==t.map(function(e){return e[n.key]}).indexOf(e)}),this.selection.removeAll(function(e){return-1!==t.indexOf(e)})):(this.checked.clear(),this.selection.clear()),this.selectionChange(this.checked,this.selection.$model),this.onSelectAll(e.target.checked,this.selection.$model)},handleCheck:function(e,n){e?(this.checked.ensure(n[this.key]),this.selection.ensure(n)):(this.checked.remove(n[this.key]),this.selection.remove(n)),this.selectionChange(this.checked,this.selection.$model),this.onSelect(n.$model,e,this.selection.$model)},actions:{},handle:function(e,n,t,i){for(var a=[],o=4;o<arguments.length;o++)a[o-4]=arguments[o];var c=t[n.dataIndex].$model||t[n.dataIndex];this.actions.apply(this,[e,c,t.$model,i].concat(a))},pagination:a(),paginationConfig:a(),handlePageChange:function(e){this.paginationConfig.onChange(e),this.paginationConfig.current=e,this.$fire("checked.length",this.checked.length),this.onChange(this.paginationConfig.$model)},getCurrentPageData:function(){return isNaN(this.paginationConfig.total)?this.data.slice(this.paginationConfig.pageSize*(this.paginationConfig.current-1),this.paginationConfig.pageSize*this.paginationConfig.current):this.data},$computed:{total:function(){return isNaN(this.paginationConfig.total)?this.data.length:this.paginationConfig.total}},onChange:t.noop,onInit:function(){var e=this,a=i.getChildTemplateDescriptor(this);a.forEach(function(n){return"selection"==n.props.type?(e.key=n.props.dataIndex||e.key,e.needSelection=!0,!1):void 0}),this.columns=n(a),this.$watch("checked.length",function(){var n=e.getCurrentPageData().map(function(n){return n[e.key]});e.isAllChecked=n.filter(function(n){return e.checked.contains(n)}).length==n.length}),this.$watch("data",function(){e.isAllChecked=!1,e.checked.clear(),e.selection.clear()}),this.$watch("data.length",function(){e.isAllChecked=!1,e.checked.clear(),e.selection.clear()}),this.$watch("pagination",function(n){t.mix(e.paginationConfig,n)}),this.$watch("pagination.current",function(n){e.paginationConfig.current=n}),this.$watch("pagination.pageSize",function(n){e.paginationConfig.pageSize=n}),this.$watch("pagination.total",function(n){e.paginationConfig.total=n}),this.$watch("pagination.onChange",function(n){e.paginationConfig.onChange=n}),this.$fire("pagination",this.pagination.$model)},onReady:function(){},onDispose:function(){}}})});
;define("vendor/ane/components/ms-table-header/ms-table-header.ts",function(e){"use strict";var t=e("node_modules/avalon2/dist/avalon");t.component("ms-table-header",{template:"<th><slot /></th>",soleSlot:"content",defaults:{content:"",col:""}})});
;define("vendor/ane/components/ms-dialog/ms-dialog.ts",function(o){"use strict";var n=o("node_modules/avalon2/dist/avalon"),e=o("node_modules/bootbox/bootbox"),a=o("vendor/ane/ane-util.ts");n.component("ms-dialog",{template:'<div style="display: none"><slot name="header" /><slot name="body"/></div>',defaults:{body:"blank",$dialog:null,show:!1,size:"",uploading:!1,$innerVm:"",onOk:function(){},onCancel:function(){},onInit:function(o){var a=this,t=o.vmodel;t.$watch("show",function(o){o?(t.$dialog=e.dialog({message:t.body,title:"{{title}}",size:t.size,buttons:{save:{label:"保存",className:"btn-primary",callback:function(){return t.onOk(),!1}},cancel:{label:"取消",className:"btn-default",callback:function(){t.onCancel()}}}}).on("hidden.bs.modal",function(){setTimeout(function(){$(".modal.in").length?$("body").addClass("modal-open"):$("body").removeClass("modal-open")},100)}).on("shown.bs.modal",function(){}),t.$dialog.find(".modal-content").attr(":controller",a.$innerVm),n.scan(t.$dialog.get(0))):t.$dialog&&t.$dialog.find(".bootbox-close-button").trigger("click")})},onReady:function(){a.parseSlotToVModel(this),this.show&&this.$fire("show",!0)},onDispose:function(){}}})});
;define("vendor/ane/components/ms-form/ms-form.ts",function(o){"use strict";var n=o("node_modules/avalon2/dist/avalon");n.component("ms-form",{template:"<form role=\"form\" :class=\"[(@horizontal ? 'form-horizontal' : ''), (@inline ? 'form-inline' : '')]\"><slot /></form>",defaults:{items:"",$form:null,type:"",horizontal:!1,inline:!1,onFormChange:function(o){this.$form&&this.$form.setFieldsValue((n={},n[o.name]={value:o.value},n));var n},onInit:function(o){o.target._ctype_="ms-form",o.target._vm_=this},onReady:function(){}},soleSlot:"items"})});
;define("vendor/ane/components/ms-form/ms-form-item.ts",function(e){"use strict";var s=e("node_modules/avalon2/dist/avalon"),n=e("vendor/ane/ane-util.ts");s.component("ms-form-item",{template:'\n<div class="form-group has-feedback " :css="[@inline && @inlineFormGroupStyle]" :class="[@className,(@hasRules && @dirty ? (@reasons.length ? \'has-error\' : \'has-success\') : \'\')] ">\n    <label class="control-label " :if="@label.length">{{@label}}</label>\n    <slot />\n    <i class="form-control-feedback " :if="@hasRules" :class="[(@dirty ? \'glyphicon\' : \'\'), (@reasons.length ? \'glyphicon-remove\' : \'glyphicon-ok\')] " :visible="@dirty"></i>\n    <small class="help-block " :css="[@inline && @inlineMessageStyle]" :if="@hasRules && @reasons.length">{{@reasons.length ? @reasons[0].message : \'\'}}</small>\n</div>\n',defaults:{$formVm:null,label:"",control:"",inline:!1,dirty:!1,reasons:[],hasRules:!1,className:"",inlineFormGroupStyle:{verticalAlign:"top"},inlineMessageStyle:{marginBottom:0},onFieldChange:function(e){var s=this;if("search"!==this.$formVm.type&&this.$formVm.$form.setFieldsValue((n={},n[e.name]={value:e.value,denyValidate:e.denyValidate},n)),e.rules){this.hasRules=!0,this.$formVm.$form.addFields((o={},o[e.name]={rules:e.rules},o)),this.$formVm.$form.on("error"+e.name,function(e){s.dirty=!0,s.reasons=e}),this.$formVm.$form.on("reset",function(n){~Object.keys(n).indexOf(e.name)&&(s.dirty=!1,s.reasons=[])});var n,o}},onFormChange:function(e){this.$formVm.$form.autoAsyncChange&&(this.dirty=!0),this.$formVm.onFormChange(e)},onInit:function(e){if(e.target._ctype_="ms-form-item",e.target._vm_=this,this.$formVm=n.findParentComponent(this,"ms-form"),null===this.$formVm)throw"ms-form-item 必须放在 ms-form 内";this.inline=this.$formVm.inline},onReady:function(){}},soleSlot:"control"})});
;define("vendor/ane/components/ms-form/index.ts",function(n){"use strict";n("vendor/ane/components/ms-form/ms-form.ts"),n("vendor/ane/components/ms-form/ms-form-item.ts")});
;define("vendor/ane/components/ms-form/create-form.ts",function(e,t){"use strict";function n(e){return new r(e)}function r(e){this.cachedRecord={},this.fields={},this.all={},c.mix(this,l,e)}function i(e,t,n){var r,i=/\.|\].|\[|\]/,o=e;t=t.split(i).filter(function(e){return!!e});var a,s=Object.prototype.toString.call(n);for(a="[object Array]"==s?c.mix(!0,{},{t:n}).t:"[object Object]"==s?c.mix(!0,{},n):n;r=t.shift();)0===t.length?o[r]=a:o=o[r]=o[r]||{}}function o(e,t){var n,r=/\.|\].|\[|\]/,i=e;for(t=t.split(r).filter(function(e){return!!e});(n=t.shift())&&i;)i=i[n];return i}var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(r){n=[6,r],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),"throw":n(1),"return":n(2)}},c=e("node_modules/avalon2/dist/avalon"),u=e("node_modules/async-validator/lib/index");t.createForm=n;var l={record:{},autoAsyncChange:!0,onFieldsChange:c.noop};r.prototype.setFieldsValue=function(e){var t=this;return this.autoAsyncChange?(Object.keys(e).forEach(function(n){var r=e[n];i(t.record,n,r.value),!r.denyValidate&&t.fields[n]&&t.validateField(n,t.fields[n]).then(function(e){e.isOk?t.trigger("error"+e.name,[]):t.trigger("error"+e.name,[{message:e.message}])})}),void this.onFieldsChange(e,this.record)):void Object.keys(e).forEach(function(n){i(t.cachedRecord,n,e[n].value)})},r.prototype.addFields=function(e){var t=this;Object.keys(e).forEach(function(n){t.fields[n]=e[n]})},r.prototype.on=function(e,t){(this.all[e]||(this.all[e]=[])).push(t)},r.prototype.trigger=function(e,t){(this.all[e]||[]).map(function(e){e(t)})},r.prototype.validateField=function(e,t){return a(this,void 0,void 0,function(){var n,r,i,a,c;return s(this,function(s){switch(s.label){case 0:return n=t.rules,r=o(this.record,e),i={isOk:!0,name:e},n?(a=new u((c={},c[e]=n,c)),[4,new Promise(function(t){a.validate((n={},n[e]=r,n),function(n){t(n?{isOk:!1,name:e,message:n[0].message}:{isOk:!0,name:e})});var n})]):[2,i];case 1:return i=s.sent(),[2,i]}})})},r.prototype.validateFields=function(e){var t=this;void 0===e&&(e=this.fields);var n={},r={};this.autoAsyncChange||(this.record=c.mix(!0,{},this.record,this.cachedRecord)),Object.keys(e).map(function(i){r[i]=e[i].rules,n[i]=o(t.record,i)});var i=new u(r);return new Promise(function(e){i.validate(n,function(n,r){var i=Object.keys(r||{}),o=!0;Object.keys(t.fields).map(function(e){~i.indexOf(e)?(o=!1,t.trigger("error"+e,r[e])):t.trigger("error"+e,[])}),e(o)})})},r.prototype.resetFields=function(e){void 0===e&&(e=this.fields),this.record={},this.trigger("reset",e)}});
;define("vendor/ane/components/ms-form/ms-control.ts",function(e,n){"use strict";var o=e("node_modules/avalon2/dist/avalon");n.__esModule=!0,n["default"]=o.component("ms-control",{template:"&nbsp;",defaults:{$formItem:null,$rules:null,value:"",col:"",placeholder:"",onChange:o.noop,emitValue:function(e){var n=e.target.value;this.$formItem&&this.$formItem.onFormChange({name:this.col,value:n,denyValidate:e.denyValidate})},handleChange:function(e){this.emitValue(e),this.onChange(e)}}})});
;define("vendor/ane/components/ms-form/utils.ts",function(e,n){"use strict";function t(e){e.$formItem=m.findParentComponent(e,"ms-form-item"),null!==e.$formItem&&e.$formItem.onFieldChange({name:e.col,rules:e.$rules,value:e.value,denyValidate:!0})}var m=e("vendor/ane/ane-util.ts");n.emitToFormItem=t});
;define("vendor/ane/components/ms-input/ms-input.ts",function(e){"use strict";var t=e("vendor/ane/components/ms-form/ms-control.ts"),n=e("vendor/ane/components/ms-form/utils.ts");t["default"].extend({displayName:"ms-input",template:'\n<input type="text" class="form-control " \n    :duplex="@text" \n    :attr="{name:@col,placeholder:@placeholder}" \n    :rules="{required:true}"\n    data-duplex-changed="@handleChange">\n',defaults:{text:"",mapValueToText:function(e){this.text=e},onInit:function(){var e=this;n.emitToFormItem(this),this.$watch("value",function(t){e.mapValueToText(t),e.handleChange({target:{value:t},denyValidate:!0,type:"changed"})}),this.mapValueToText(this.value)}}})});
;define("vendor/ane/components/ms-textarea/ms-textarea.ts",function(e){"use strict";var t=e("vendor/ane/components/ms-form/ms-control.ts"),a=e("vendor/ane/components/ms-form/utils.ts");t["default"].extend({displayName:"ms-textarea",template:'\n<textarea class="form-control " \n    :duplex="@text" \n    :attr="{rows:@rows,name:@col}"\n    data-duplex-changed="@handleChange"></textarea>\n',defaults:{rows:"",text:"",mapValueToText:function(e){this.text=e},onInit:function(){var e=this;a.emitToFormItem(this),this.$watch("value",function(t){e.mapValueToText(t),e.handleChange({target:{value:t},denyValidate:!0,type:"changed"})}),this.mapValueToText(this.value)}}})});
;define("vendor/ane/components/ms-trigger/ms-trigger.ts",function(t){"use strict";var e=t("node_modules/avalon2/dist/avalon"),i=t("node_modules/dom-align/lib/index");e.component("ms-trigger",{template:'<span style="display:none;"></span>',defaults:{width:0,visible:!1,innerVmId:"",innerClass:"",innerTemplate:"",withInBox:function(){return!0},getTarget:e.noop,onHide:e.noop,hide:function(t){t.style.top="-9999px",t.style.left="-9999px",this.onHide()},onInit:function(){var t=this,n=document,s=n.body,o=n.createElement("div"),d=n.createElement("div");o.setAttribute("id",this.$id),o.setAttribute("style","position: absolute; top: 0px; left: 0px; width: 100%;"),d.setAttribute("class",this.innerClass),d.setAttribute(":important",this.innerVmId),d.innerHTML=this.innerTemplate,o.appendChild(d),s.appendChild(o),e.scan(d,e.vmodels[this.innerVmId]),e.bind(s,"click",function(i){!t.visible||d===i.target||e.contains(d,i.target)||t.withInBox(i.target)||t.hide(d)}),this.$watch("visible",function(e){e?(d.style.width=t.width+"px",d.scrollTop=0,i(d,t.getTarget(),{points:["tl","bl"],offset:[0,1],overflow:{adjustY:!0}})):t.hide(d)})},onDispose:function(){var t=document,e=t.body,i=t.getElementById(this.$id);e.removeChild(i)}}})});
;define("vendor/ane/components/ms-trigger/index.ts",function(e){"use strict";e("vendor/ane/components/ms-trigger/ms-trigger.ts")});
;define("vendor/ane/components/ms-select/ms-select.ts",function(e){"use strict";function t(e){return e.reduce(function(e,t){if("ms-select-option"!=t.is)return e;t.inlineTemplate;return e.push({label:t.inlineTemplate||"",value:t.props.value||"",disabled:t.props.disabled||!1}),e},[])}var i=e("node_modules/avalon2/dist/avalon"),n=e("vendor/ane/components/ms-form/ms-control.ts");e("vendor/ane/components/ms-trigger/index.ts");var l=e("vendor/ane/ane-util.ts"),s=e("vendor/ane/components/ms-form/utils.ts");n["default"].extend({displayName:"ms-select",template:'\n<div class="bus-select form-control "\n    :class="[(@isMultiple ? \'bus-select-multiple\' : \'\')] "\n    :click="@handleClick"\n    role="combobox"\n    aria-autocomplete="list"\n    aria-haspopup="true"\n    :attr="{\'aria-expanded\': @panelVisible + \'\'}">\n    <ul class="bus-select-selection " :class="[(@isMultiple ? \'bus-select-tags\' : \'\')] ">\n        <li class="bus-select-selected " :visible="!@isMultiple && (!@showSearch || !@panelVisible)">{{@displayValue}}</li>\n        <li class="bus-select-choice " :for="choice in @selection">\n            <span>{{choice.label}}</span>\n            <i class="fa fa-times " :click="@removeSelection($event, choice) | stop"></i>\n        </li>\n        <li class="bus-select-search ">\n            <input class="bus-select-search-field "\n                name="search"\n                type="text"\n                autocomplete="off"\n                :duplex="@searchValue"\n                :visible="@showSearch && @panelVisible"\n                :keydown="@handleDelete" />\n        </li>\n    </ul>\n    <i class="fa bus-select-arrow "\n        :class="[(@panelVisible ? \'fa-caret-up\' : \'fa-caret-down\')] "\n        :visible="@mode === \'\'"></i>\n    <ms-trigger :widget="{\n        width: @width,\n        visible: @panelVisible,\n        innerVmId: @panelVmId,\n        innerClass: @panelClass,\n        innerTemplate: @panelTemplate,\n        withInBox: @withInBox,\n        getTarget: @getTarget,\n        onHide: @handlePanelHide}">\n    </ms-trigger>\n</div>\n',defaults:{width:0,value:[],mode:"",options:[],selection:[],remote:!1,remoteMethod:i.noop,displayValue:"",showSearch:!1,searchValue:"",focusSearch:function(){this.$element.getElementsByTagName("input").search.focus()},withInBox:function(e){return this.$element===e||i.contains(this.$element,e)},getTarget:function(){return this.$element},handleClick:function(){this.panelVisible?this.isMultiple||(this.panelVisible=!1):(this.searchValue="",this.width=this.$element.offsetWidth,this.panelVisible=!0,this.focusSearch())},handleDelete:function(e){if((8===e.which||46===e.which)&&""===this.searchValue){this.selection.removeAt(this.selection.length-1);var t=this.selection.toJSON(),n=t.map(function(e){return e.value});i.vmodels[this.panelVmId].selection=t,this.handleChange({target:{value:this.isMultiple?n:n[0]||""},type:"select"})}},removeSelection:function(e,t){this.selection.removeAll(function(e){return e.value===t.value});var n=this.selection.toJSON(),l=n.map(function(e){return e.value});i.vmodels[this.panelVmId].selection=n,this.focusSearch(),this.handleChange({target:{value:this.isMultiple?l:l[0]||""},type:"select"})},panelVmId:"",panelVisible:!1,panelClass:"bus-select-dropdown",panelTemplate:'\n<div style="overflow: auto">\n    <ul class="bus-select-dropdown-menu " role="menu">\n        <li class="bus-select-dropdown-menu-item "\n            :class="[ (@selection.some(function(){return arguments[0].value===option.value}) ? \'bus-select-dropdown-menu-item-selected\' : \'\'), (option.disabled ? \'bus-select-dropdown-menu-item-disabled\' : \'\') ] "\n            :for="option in @getFilteredOptions()"\n            :click="@handleOptionClick($event, option)"\n            role="menuitem">\n            {{option.label}}\n            <i class="fa fa-check " :visible="@isMultiple"></i>\n        </li>\n        <li class="bus-select-dropdown-menu-item bus-select-dropdown-menu-item-disabled "\n            :visible="@getFilteredOptions().length <= 0 && @searchValue && !@loading">无数据</li>\n        <li class="bus-select-dropdown-menu-item bus-select-dropdown-menu-item-disabled "\n            :visible="@loading">加载中</li>\n    </ul>\n</div>\n',handlePanelHide:function(){this.panelVisible=!1},$computed:{isMultiple:{get:function(){return"multiple"===this.mode||"tags"===this.mode}}},mapValueToSelection:function(e){this.selection=this.options.filter(function(t){return e.contains(t.value)}),i.vmodels[this.panelVmId].selection=this.selection.toJSON()},onInit:function(){var e=this,n=this;if(0===this.options.length){var a=l.getChildTemplateDescriptor(this);this.options=t(a)}s.emitToFormItem(this),this.$watch("value",function(t){var i=t.toJSON();e.mapValueToSelection(t),e.handleChange({target:{value:e.isMultiple?i:i[0]||""},denyValidate:!0,type:"select"})}),this.panelVmId=this.$id+"_panel";var o=i.define({$id:this.panelVmId,selection:[],loading:!1,isMultiple:this.isMultiple,options:this.options.toJSON(),searchValue:"",getFilteredOptions:function(){return this.options.filter(this.filterFn)},filterFn:function(e){if(this.loading)return!1;if(n.remote)return!0;var t=new RegExp(i.escapeRegExp(this.searchValue),"i");return t.test(e.label)||t.test(e.value)},handleOptionClick:function(e,t){if(t.disabled)return!1;n.isMultiple?(this.selection.some(function(e){return e.value===t.value})?this.selection.removeAll(function(e){return e.value===t.value}):this.selection.push(t),n.focusSearch()):(this.selection=[t],n.panelVisible=!1);var i=this.selection.toJSON(),l=i.map(function(e){return e.value});n.handleChange({target:{value:n.isMultiple?l:l[0]||""},type:"select"}),n.displayValue=t.label,n.selection=i}});this.$watch("searchValue",l.debounce(function(t){o.searchValue=t,e.remote&&t&&(o.loading=!0,e.remoteMethod(t).then(function(e){o.loading=!1,o.options=e}))})),this.$watch("isMultiple",function(e){o.isMultiple=e}),this.mapValueToSelection(this.value)},onDispose:function(){delete i.vmodels[this.panelVmId]}}})});
;define("vendor/ane/components/ms-select/ms-select-option.ts",function(e){"use strict";var l=e("node_modules/avalon2/dist/avalon");l.component("ms-select-option",{template:"&nbsp;",soleSlot:"label",defaults:{label:"",value:"",disabled:!1}})});
;define("vendor/ane/components/ms-select/index.ts",function(e){"use strict";e("vendor/ane/components/ms-select/ms-select.ts"),e("vendor/ane/components/ms-select/ms-select-option.ts")});
;define("vendor/ane/components/ms-upload/ms-upload-list.ts",function(s){"use strict";var e=s("node_modules/avalon2/dist/avalon");e.component("ms-upload-list",{template:'\n<ul class="bus-upload-list ">\n    <li :for="($index, file) in @fileList"\n        :class="[@getTextClass(file)] ">\n        <div class="bus-upload-list-info ">\n            <i class="fa fa-file-o text-muted "></i>\n            <span :attr="{title:file.name}">{{file.name}}</span>\n        </div>\n        <i class="fa fa-times bus-upload-btn-close " :click="del(file)"></i>\n        <span class="bus-upload-list-progress " :visible="file.status === \'uploading\'">上传中 {{file.progress}}%</span>\n        <i class="fa fa-check-circle text-success " :class="[(file.status === \'done\' ? \'\' : \'hide\')] "></i>\n    </li>\n</ul>\n',defaults:{fileList:[],getTextClass:function(s){switch(s.status){case"done":return"text-primary";case"uploading":return"text-muted";case"error":return"text-danger"}return""},onRemove:e.noop,del:function(s){this.onRemove(s)}}})});
;define("vendor/ane/components/ms-upload/ms-upload-card.ts",function(e){"use strict";var s=e("node_modules/avalon2/dist/avalon");s.component("ms-upload-card",{template:'\n<div class="bus-upload-card ">\n    <div class="bus-upload-card-item " :class="[(file.status === \'error\' ? \'bordered-danger\' : \'\')] " :for="($index, file) in @fileList">\n        <img :attr="{src:file.url,alt:file.name,title:file.name}">\n        <span class="bus-upload-card-progress " :visible="file.status === \'uploading\'">上传中 {{file.progress}}%</span>\n        <span class="bus-upload-card-tool ">\n            <i class="fa fa-eye "></i>\n            <i class="fa fa-trash-o " :click="del(file)"></i>\n        </span>\n    </div>\n</div>\n',defaults:{fileList:[],getTextClass:function(e){switch(e.status){case"done":return"text-primary";case"uploading":return"text-muted";case"error":return"text-danger"}return""},onRemove:s.noop,del:function(e){this.onRemove(e)}}})});
;define("vendor/ane/components/ms-upload/ms-upload.ts",function(e){"use strict";function t(e,t,i){e.forEach(function(e){return e.uid===t?(i(e),!1):void 0})}var i=e("vendor/ane/components/ms-form/ms-control.ts"),l=e("vendor/ane/components/ms-form/utils.ts");e("vendor/ane/components/ms-upload/ms-upload-list.ts"),e("vendor/ane/components/ms-upload/ms-upload-card.ts");var n=e("node_modules/up-loader/dist/up-loader");i["default"].extend({displayName:"ms-upload",template:'\n<div class="bus-upload-container ">\n    <div class="bus-upload-card-wall " :if="@showUploadList && @listType===\'picture-card\'">\n        <ms-upload-card :widget="{fileList: @fileList, onRemove: @handleRemove}"></ms-upload-card>\n    </div>\n    <label :visible="!@showUploadList && @listType===\'picture-card\' && @fileList.length > 0" class="bus-upload-card-item " :attr="{\'for\':@helpId}">\n        <img :attr="{src:@fileList[0]?@fileList[0].url:blankImg,alt:@fileList[0]?@fileList[0].name:\'\',title:@fileList[0]?@fileList[0].name:\'\'}">\n    </label>\n    <label :visible="@showUploadList || @fileList.length == 0" :class="[(@listType===\'picture-card\'?@cardClass:@btnClass)] " :attr="{\'for\':@helpId}"><slot /></label>\n    <form><input type="file" name="file" :attr="{id:@helpId}"></form>\n    <div :if="@showUploadList && @listType!==\'picture-card\'">\n        <ms-upload-list :widget="{fileList: @fileList, onRemove: @handleRemove}"></ms-upload-list>\n    </div>\n</div>\n',soleSlot:"trigger",defaults:{helpId:"",trigger:"",value:[],fileList:[],action:"",listType:"text-list",showUploadList:!0,btnClass:"btn btn-default",cardClass:"bus-upload-select-card bus-upload-card-item",blankImg:"data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",$uploader:null,beforeUpload:function(){return!0},handleRemove:function(e){this.fileList.removeAll(function(t){return t.uid===e.uid});var t=this.fileList.filter(function(e){return"done"===e.status}).map(function(e){return e.url});this.handleChange({target:{value:this.showUploadList?t:t[0]},type:"file-upload"})},mapValueToFileList:function(e){var t=this;e.map(function(e,i){""!==e&&t.fileList.push({uid:-(i+1),name:e.replace(/.*\/([^\/]+)\/?/,"$1"),url:e,status:"done",progress:0})})},onInit:function(){var e=this;l.emitToFormItem(this),this.helpId=this.$id,this.mapValueToFileList(this.value),this.$watch("value",function(t){var i=t.toJSON();e.fileList.clear(),e.mapValueToFileList(i),e.handleChange({target:{value:e.showUploadList?i:i[0]},denyValidate:!0,type:"file-upload"})})},onReady:function(e){var i=this;this.$uploader=n["default"].init({url:this.action,fileInput:e.target.getElementsByTagName("input").file,filter:function(e){return e.filter(function(e){return!e.size||i.beforeUpload(e)})},onSelect:function(e,l){l.map(function(e){return i.showUploadList?void(i.fileList.every(function(t){return t.uid!==e.index})?i.fileList.push({uid:e.index,name:e.name,status:"uploading",progress:0,url:i.blankImg}):t(i.fileList,e.index,function(e){e.status="uploading",e.progress=0})):void i.fileList.set(0,{uid:e.index,name:e.name,status:"uploading",progress:0,url:i.blankImg})}),i.$uploader.upload()},onProgress:function(e,l,n){t(i.fileList,e.index,function(e){return e.progress=(l/n*100).toFixed()})},onSuccess:function(e,l){t(i.fileList,e.index,function(e){e.status="done",e.progress=100,e.url=l.url})},onFailure:function(e,l){throw t(i.fileList,e.index,function(e){e.status="error",e.url="data:image/gif;base64,MA=="}),l},onComplete:function(){var e=i.fileList.filter(function(e){return"done"===e.status}).map(function(e){return e.url});i.handleChange({target:{value:i.showUploadList?e:e[0]},type:"file-upload"})}})},onDispose:function(){}}})});
;define("vendor/ane/components/ms-checkbox/ms-checkbox-group.ts",function(e){"use strict";var n=e("vendor/ane/components/ms-form/ms-control.ts"),o=e("vendor/ane/components/ms-form/utils.ts");e("vendor/ane/components/ms-checkbox/ms-checkbox.ts"),n["default"].extend({displayName:"ms-checkbox-group",template:'\n<div class="checkbox-group ">\n    <ms-checkbox \n        :widget="{\n            checked:@selection.indexOf(option.value)!=-1,\n            group:true,\n            onChange:function(){\n                @toggleOption(option)\n            },\n            disabled:\'disabled\' in option?option.disabled:@disabled\n        }" \n        :for="option in options">{{option.label}}</ms-checkbox>\n</div>\n',defaults:{value:[],disabled:!1,options:[],selection:[],toggleOption:function(e){var n=this.selection.indexOf(e.value);-1===n?this.selection.push(e.value):this.selection.remove(e.value),this.handleChange({target:{value:this.selection.toJSON()},type:"checkbox-group"})},mapValueToSelection:function(e){this.selection=this.options.filter(function(n){return e.contains(n.value)}).map(function(e){return e.value})},onInit:function(){var e=this;o.emitToFormItem(this),this.$watch("value",function(n){e.mapValueToSelection(n),e.handleChange({target:{value:n.toJSON()},denyValidate:!0,type:"checkbox-group"})}),this.mapValueToSelection(this.value)},onReady:function(){},onDispose:function(){}}})});
;define("vendor/ane/components/ms-radio/ms-radio.ts",function(e){"use strict";var n=e("node_modules/avalon2/dist/avalon"),a=e("vendor/ane/ane-util.ts");if(n.msie<=8){var t=document,i=t.getElementsByTagName("head")[0],o=t.createElement("style"),l="\n        .radio-inner-ie input {\n            left: 0;\n            position: static !important;\n            margin-left: 0 !important;\n            margin-top: 6px !important;\n        }\n        .radio-inner-ie span {\n            display: none !important;\n        }\n    ";o.setAttribute("type","text/css"),o.styleSheet?o.styleSheet.cssText=l:o.appendChild(t.createTextNode(l)),i.appendChild(o)}n.component("ms-radio",{soleSlot:"label",template:'\n<div :class="@wrapper " class="radio-wrapper_vkaeg_2 " style="margin-top: 0; margin-bottom: 0;">\n    <label class="radio-inner_vkaeg_5 radio-inner-ie ">\n        <input type="radio"\n            :attr="{id:@helpId,disabled:@disabled,value:@value,name:@name}"\n            :duplex="@checked"\n            data-duplex-changed="@onChange"\n            />\n        <span class="text "></span>\n    </label>\n    <label :attr="{\'for\':@helpId}" style="padding-left: 0;" :css="{marginRight:@group?8:0}"><slot /></label>\n</div>\n',defaults:{wrapper:"radio",label:"",checked:"",value:"",name:"",group:!1,disabled:!1,onChange:function(e){this.onChange(e)},helpId:"",onInit:function(){this.helpId=this.$id},onReady:function(){a.parseSlotToVModel(this)},onDispose:function(){}}})});
;define("vendor/ane/components/ms-radio/ms-radio-group.ts",function(e){"use strict";var n=e("vendor/ane/components/ms-form/ms-control.ts"),o=e("vendor/ane/components/ms-form/utils.ts");e("vendor/ane/components/ms-radio/ms-radio.ts"),n["default"].extend({displayName:"ms-radio-group",template:'\n<div class="checkbox-group ">\n    <ms-radio \n        :widget="{\n            checked:@selected,\n            value:option.value,\n            name:@helpId,\n            group:true,\n            onChange:function(){\n                @toggleOption(arguments[0], option)\n            },\n            disabled:\'disabled\' in option?option.disabled:@disabled\n        }" \n        :for="option in options">{{option.label}}</ms-radio>\n</div>\n',defaults:{value:"",disabled:!1,options:[],selected:"",toggleOption:function(e,n){this.selected=n.value,this.handleChange({target:{value:this.selected},type:"radio-group"})},helpId:"",mapValueToSelected:function(e){this.selected=e},onInit:function(){var e=this;this.helpId=this.$id,o.emitToFormItem(this),this.$watch("value",function(n){e.mapValueToSelected(n),e.handleChange({target:{value:n},denyValidate:!0,type:"radio-group"})}),this.mapValueToSelected(this.value)},onReady:function(){},onDispose:function(){}}})});
;define("vendor/ane/components/ms-radio/index.ts",function(n){"use strict";n("vendor/ane/components/ms-radio/ms-radio.ts"),n("vendor/ane/components/ms-radio/ms-radio-group.ts")});
;define("vendor/ane/components/ms-notification/ms-notification.ts",function(t,e){"use strict";function i(t,e,i){return t=t?"<strong>"+t+"</strong><br>":"",'<div>\n                <i class="'+i+' pull-left" style="font-size: 38px;min-width: 38px;text-align: center;"></i>\n                '+t+"\n                "+e+"\n            </div>"}var n=t("node_modules/noty/js/noty/packaged/jquery.noty.packaged"),o={timeout:3e3};e.__esModule=!0,e["default"]={info:function(t){var e=t.message,a=t.title,s=t.timeout;n({text:i(a,e,"fa fa-info-circle"),type:"information",timeout:s||o.timeout})},success:function(t){var e=t.message,a=t.title,s=t.timeout;n({text:i(a,e,"fa fa-check-circle"),type:"success",timeout:s||o.timeout})},error:function(t){var e=t.message,a=t.title,s=t.timeout;n({text:i(a,e,"fa fa-times-circle"),type:"error",timeout:s||o.timeout})},warning:function(t){var e=t.message,a=t.title,s=t.timeout;n({text:i(a,e,"fa fa-warning"),type:"warning",timeout:s||o.timeout})},warn:function(t){var e=t.message,i=t.title,n=t.timeout;this.warning({message:e,title:i,timeout:n})},config:function(t){void 0!==t.timeout&&(o.timeout=t.timeout)}}});
;define("vendor/ane/components/ms-notification/index.ts",function(n,t){"use strict";var e=n("vendor/ane/components/ms-notification/ms-notification.ts");t.__esModule=!0,t["default"]=e["default"]});
;define("vendor/ane/components/ms-message/ms-message.ts",function(t,n){"use strict";var o=t("node_modules/noty/js/noty/packaged/jquery.noty.packaged"),e={duration:1500};n.__esModule=!0,n["default"]={info:function(t){var n=t.content,a=t.duration;o({text:'<i class="fa fa-info-circle"></i>'+n,type:"information",layout:"topCenter",timeout:a||e.duration})},success:function(t){var n=t.content,a=t.duration;o({text:'<i class="fa fa-check-circle"></i>'+n,type:"success",layout:"topCenter",timeout:a||e.duration})},error:function(t){var n=t.content,a=t.duration;o({text:'<i class="fa fa-times-circle"></i>'+n,type:"error",layout:"topCenter",timeout:a||e.duration})},warning:function(t){var n=t.content,a=t.duration;o({text:'<i class="fa fa-warning"></i>'+n,type:"warning",layout:"topCenter",timeout:a||e.duration})},warn:function(t){var n=t.content,o=t.duration;this.warning({content:n,duration:o})},config:function(t){void 0!==t.duration&&(e.duration=t.duration)}}});
;define("vendor/ane/components/ms-message/index.ts",function(e,s){"use strict";var n=e("vendor/ane/components/ms-message/ms-message.ts");s.__esModule=!0,s["default"]=n["default"]});
;define("vendor/ane/index.ts",function(e,n){"use strict";var a=e("vendor/ane/components/ms-table/ms-table.ts");n.table=a["default"];var o=e("vendor/ane/components/ms-table-header/ms-table-header.ts");n.tableHeader=o["default"];var t=e("vendor/ane/components/ms-pagination/ms-pagination.ts");n.pagination=t["default"];var s=e("vendor/ane/components/ms-dialog/ms-dialog.ts");n.dialog=s["default"];var r=e("vendor/ane/components/ms-form/index.ts");n.form=r["default"];var d=e("vendor/ane/components/ms-form/create-form.ts");n.createForm=d.createForm;var m=e("vendor/ane/components/ms-input/ms-input.ts");n.input=m["default"];var c=e("vendor/ane/components/ms-textarea/ms-textarea.ts");n.textarea=c["default"];var v=e("vendor/ane/components/ms-select/index.ts");n.select=v["default"];var i=e("vendor/ane/components/ms-upload/ms-upload.ts");n.upload=i["default"];var l=e("vendor/ane/components/ms-checkbox/ms-checkbox.ts");n.checkbox=l["default"];var p=e("vendor/ane/components/ms-checkbox/ms-checkbox-group.ts");n.checkboxGroup=p["default"];var u=e("vendor/ane/components/ms-radio/index.ts");n.radio=u["default"];var f=e("vendor/ane/components/ms-notification/index.ts");n.notification=f["default"];var x=e("vendor/ane/components/ms-message/index.ts");n.message=x["default"]});